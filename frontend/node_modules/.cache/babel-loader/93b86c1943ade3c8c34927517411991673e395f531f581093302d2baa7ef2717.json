{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\trial\\\\frontend\\\\src\\\\pages\\\\PublicationDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport publicationService from \"../api/publicationService\";\nimport useAuth from \"../hooks/useAuth\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { formatDate } from \"../utils/formatDate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PublicationDetailPage = () => {\n  _s();\n  var _publication$publishe;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const [publication, setPublication] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  // For reviewer actions\n  const [reviewStatus, setReviewStatus] = useState(\"\");\n  const [reviewerComments, setReviewerComments] = useState(\"\");\n  const [reviewError, setReviewError] = useState(\"\");\n  const [reviewSuccess, setReviewSuccess] = useState(\"\");\n  const [isReviewing, setIsReviewing] = useState(false);\n  const fetchPublication = useCallback(async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const data = await publicationService.getPublicationById(id);\n      if (data.success) {\n        setPublication(data.data);\n      } else {\n        setError(data.message || \"Publication not found or access denied.\");\n      }\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response3;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to fetch publication details.\");\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 404 || ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 403) {\n        // navigate('/not-found', { replace: true }); // or an unauthorized page\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n  useEffect(() => {\n    fetchPublication();\n  }, [fetchPublication]);\n  const handleReviewSubmit = async e => {\n    e.preventDefault();\n    setReviewError(\"\");\n    setReviewSuccess(\"\");\n    setIsReviewing(true);\n    try {\n      const reviewData = {\n        status: reviewStatus,\n        reviewerComments\n      };\n      await publicationService.submitReview(id, reviewData);\n      setReviewSuccess(\"Review submitted successfully. Publication status updated.\");\n      fetchPublication(); // Refresh publication details\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setReviewError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Failed to submit review.\");\n    } finally {\n      setIsReviewing(false);\n    }\n  };\n  const handleDelete = async () => {\n    if (window.confirm(\"Are you sure you want to delete this publication? This action cannot be undone.\")) {\n      try {\n        if ((user === null || user === void 0 ? void 0 : user.role) === \"admin\") {\n          await publicationService.adminDeletePublication(id);\n        } else {\n          await publicationService.deletePublication(id);\n        }\n        alert(\"Publication deleted successfully.\");\n        navigate((user === null || user === void 0 ? void 0 : user.role) === \"admin\" ? \"/admin/publications\" : \"/dashboard/my-publications\");\n      } catch (err) {\n        var _err$response5, _err$response5$data;\n        alert(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || \"Failed to delete publication.\");\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error-message\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 21\n  }, this);\n  if (!publication) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Publication not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 28\n  }, this);\n  const isOwner = isAuthenticated && (user === null || user === void 0 ? void 0 : user._id) === ((_publication$publishe = publication.publisher) === null || _publication$publishe === void 0 ? void 0 : _publication$publishe._id);\n  const isAdmin = isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === \"admin\";\n  const canEdit = isOwner && [\"pending_review\", \"needs_correction\"].includes(publication.status) || isAdmin;\n  const canDelete = isOwner && publication.status !== \"published\" || isAdmin;\n  const canReview = isAuthenticated && ((user === null || user === void 0 ? void 0 : user.role) === \"reviewer\" || isAdmin) && publication.status === \"pending_review\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"publication-detail\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: publication.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"meta-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Authors:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), \" \", publication.authorNames.join(\", \")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), \" \", publication.category]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Date of Publication:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), \" \", formatDate(publication.dateOfPublication)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), publication.yearOfPublication && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Year:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), \" \", publication.yearOfPublication]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), publication.volume && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Volume:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), \" \", publication.volume]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), publication.doi && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"DOI:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), \" \", publication.doi]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: \"bold\",\n            color: publication.status === \"published\" ? \"green\" : publication.status === \"rejected\" ? \"red\" : \"orange\"\n          },\n          children: publication.status.replace(\"_\", \" \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), publication.publisher && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Submitted by:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), \" \", publication.publisher.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), publication.reviewedBy && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Reviewed by:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), \" \", publication.reviewedBy.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), publication.reviewerComments && publication.status !== \"published\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Reviewer Comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), \" \", publication.reviewerComments]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), publication.description && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"description\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: publication.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: publicationService.getPublicationPdfUrl(publication.content),\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"btn\",\n        children: \"View PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), canEdit && /*#__PURE__*/_jsxDEV(Link, {\n        to: `/dashboard/edit-publication/${id}`,\n        className: \"btn\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), canDelete && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"btn btn-danger\",\n        style: {\n          marginLeft: \"10px\"\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), canReview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Submit Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), reviewError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: reviewError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 27\n      }, this), reviewSuccess && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-message\",\n        children: reviewSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleReviewSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reviewStatus\",\n            children: \"New Status *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"reviewStatus\",\n            value: reviewStatus,\n            onChange: e => setReviewStatus(e.target.value),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"published\",\n              children: \"Publish\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"needs_correction\",\n              children: \"Needs Correction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rejected\",\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), (reviewStatus === \"needs_correction\" || reviewStatus === \"rejected\") && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reviewerComments\",\n            children: \"Comments (Required for Needs Correction/Reject) *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reviewerComments\",\n            value: reviewerComments,\n            onChange: e => setReviewerComments(e.target.value),\n            rows: \"4\",\n            required: reviewStatus === \"needs_correction\" || reviewStatus === \"rejected\" || reviewStatus === \"rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn\",\n          disabled: isReviewing,\n          children: isReviewing ? \"Submitting...\" : \"Submit Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), publication.status === \"needs_correction\" && isOwner && !isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning\",\n      style: {\n        marginTop: \"20px\",\n        padding: \"15px\",\n        border: \"1px solid orange\",\n        backgroundColor: \"#fff3cd\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Action Required:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), \" This publication needs correction based on reviewer feedback.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Reviewer Comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), \" \", publication.reviewerComments]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Please\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n          to: `/dashboard/edit-publication/${id}`,\n          children: \"edit your publication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), \" \", \"and resubmit. Resubmitting will change the status back to 'pending_review'.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(PublicationDetailPage, \"T2mdFucNfQlFG+E5UozTmoHMcV8=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = PublicationDetailPage;\nexport default PublicationDetailPage;\nvar _c;\n$RefreshReg$(_c, \"PublicationDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","Link","publicationService","useAuth","LoadingSpinner","formatDate","jsxDEV","_jsxDEV","PublicationDetailPage","_s","_publication$publishe","id","navigate","user","isAuthenticated","publication","setPublication","loading","setLoading","error","setError","reviewStatus","setReviewStatus","reviewerComments","setReviewerComments","reviewError","setReviewError","reviewSuccess","setReviewSuccess","isReviewing","setIsReviewing","fetchPublication","data","getPublicationById","success","message","err","_err$response","_err$response$data","_err$response2","_err$response3","response","status","handleReviewSubmit","e","preventDefault","reviewData","submitReview","_err$response4","_err$response4$data","handleDelete","window","confirm","role","adminDeletePublication","deletePublication","alert","_err$response5","_err$response5$data","fileName","_jsxFileName","lineNumber","columnNumber","className","children","isOwner","_id","publisher","isAdmin","canEdit","includes","canDelete","canReview","title","authorNames","join","category","dateOfPublication","yearOfPublication","volume","doi","style","fontWeight","color","replace","username","reviewedBy","description","href","getPublicationPdfUrl","content","target","rel","to","marginLeft","onClick","onSubmit","htmlFor","value","onChange","required","rows","type","disabled","marginTop","padding","border","backgroundColor","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/trial/frontend/src/pages/PublicationDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\r\nimport publicationService from \"../api/publicationService\";\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport { formatDate } from \"../utils/formatDate\";\r\n\r\nconst PublicationDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const [publication, setPublication] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // For reviewer actions\r\n  const [reviewStatus, setReviewStatus] = useState(\"\");\r\n  const [reviewerComments, setReviewerComments] = useState(\"\");\r\n  const [reviewError, setReviewError] = useState(\"\");\r\n  const [reviewSuccess, setReviewSuccess] = useState(\"\");\r\n  const [isReviewing, setIsReviewing] = useState(false);\r\n\r\n  const fetchPublication = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const data = await publicationService.getPublicationById(id);\r\n      if (data.success) {\r\n        setPublication(data.data);\r\n      } else {\r\n        setError(data.message || \"Publication not found or access denied.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.message || \"Failed to fetch publication details.\"\r\n      );\r\n      if (err.response?.status === 404 || err.response?.status === 403) {\r\n        // navigate('/not-found', { replace: true }); // or an unauthorized page\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchPublication();\r\n  }, [fetchPublication]);\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setReviewError(\"\");\r\n    setReviewSuccess(\"\");\r\n    setIsReviewing(true);\r\n    try {\r\n      const reviewData = { status: reviewStatus, reviewerComments };\r\n      await publicationService.submitReview(id, reviewData);\r\n      setReviewSuccess(\r\n        \"Review submitted successfully. Publication status updated.\"\r\n      );\r\n      fetchPublication(); // Refresh publication details\r\n    } catch (err) {\r\n      setReviewError(err.response?.data?.message || \"Failed to submit review.\");\r\n    } finally {\r\n      setIsReviewing(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (\r\n      window.confirm(\r\n        \"Are you sure you want to delete this publication? This action cannot be undone.\"\r\n      )\r\n    ) {\r\n      try {\r\n        if (user?.role === \"admin\") {\r\n          await publicationService.adminDeletePublication(id);\r\n        } else {\r\n          await publicationService.deletePublication(id);\r\n        }\r\n        alert(\"Publication deleted successfully.\");\r\n        navigate(\r\n          user?.role === \"admin\"\r\n            ? \"/admin/publications\"\r\n            : \"/dashboard/my-publications\"\r\n        );\r\n      } catch (err) {\r\n        alert(err.response?.data?.message || \"Failed to delete publication.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error) return <p className=\"error-message\">{error}</p>;\r\n  if (!publication) return <p>Publication not found.</p>;\r\n\r\n  const isOwner = isAuthenticated && user?._id === publication.publisher?._id;\r\n  const isAdmin = isAuthenticated && user?.role === \"admin\";\r\n  const canEdit =\r\n    (isOwner &&\r\n      [\"pending_review\", \"needs_correction\"].includes(publication.status)) ||\r\n    isAdmin;\r\n  const canDelete = (isOwner && publication.status !== \"published\") || isAdmin;\r\n  const canReview =\r\n    isAuthenticated &&\r\n    (user?.role === \"reviewer\" || isAdmin) &&\r\n    publication.status === \"pending_review\";\r\n\r\n  return (\r\n    <div className=\"publication-detail\">\r\n      <h1>{publication.title}</h1>\r\n      <div className=\"meta-info\">\r\n        <p>\r\n          <strong>Authors:</strong> {publication.authorNames.join(\", \")}\r\n        </p>\r\n        <p>\r\n          <strong>Category:</strong> {publication.category}\r\n        </p>\r\n        <p>\r\n          <strong>Date of Publication:</strong>{\" \"}\r\n          {formatDate(publication.dateOfPublication)}\r\n        </p>\r\n        {publication.yearOfPublication && (\r\n          <p>\r\n            <strong>Year:</strong> {publication.yearOfPublication}\r\n          </p>\r\n        )}\r\n        {publication.volume && (\r\n          <p>\r\n            <strong>Volume:</strong> {publication.volume}\r\n          </p>\r\n        )}\r\n        {publication.doi && (\r\n          <p>\r\n            <strong>DOI:</strong> {publication.doi}\r\n          </p>\r\n        )}\r\n        <p>\r\n          <strong>Status:</strong>{\" \"}\r\n          <span\r\n            style={{\r\n              fontWeight: \"bold\",\r\n              color:\r\n                publication.status === \"published\"\r\n                  ? \"green\"\r\n                  : publication.status === \"rejected\"\r\n                  ? \"red\"\r\n                  : \"orange\",\r\n            }}\r\n          >\r\n            {publication.status.replace(\"_\", \" \")}\r\n          </span>\r\n        </p>\r\n        {publication.publisher && (\r\n          <p>\r\n            <strong>Submitted by:</strong> {publication.publisher.username}\r\n          </p>\r\n        )}\r\n        {publication.reviewedBy && (\r\n          <p>\r\n            <strong>Reviewed by:</strong> {publication.reviewedBy.username}\r\n          </p>\r\n        )}\r\n        {publication.reviewerComments && publication.status !== \"published\" && (\r\n          <p>\r\n            <strong>Reviewer Comments:</strong> {publication.reviewerComments}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {publication.description && (\r\n        <div className=\"description\">\r\n          <p>{publication.description}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"actions\">\r\n        <a\r\n          href={publicationService.getPublicationPdfUrl(publication.content)}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"btn\"\r\n        >\r\n          View PDF\r\n        </a>\r\n        {canEdit && (\r\n          <Link\r\n            to={`/dashboard/edit-publication/${id}`}\r\n            className=\"btn\"\r\n            style={{ marginLeft: \"10px\" }}\r\n          >\r\n            Edit\r\n          </Link>\r\n        )}\r\n        {canDelete && (\r\n          <button\r\n            onClick={handleDelete}\r\n            className=\"btn btn-danger\"\r\n            style={{ marginLeft: \"10px\" }}\r\n          >\r\n            Delete\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {canReview && (\r\n        <div className=\"review-section\">\r\n          <h3>Submit Review</h3>\r\n          {reviewError && <p className=\"error-message\">{reviewError}</p>}\r\n          {reviewSuccess && <p className=\"success-message\">{reviewSuccess}</p>}\r\n          <form onSubmit={handleReviewSubmit}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"reviewStatus\">New Status *</label>\r\n              <select\r\n                id=\"reviewStatus\"\r\n                value={reviewStatus}\r\n                onChange={(e) => setReviewStatus(e.target.value)}\r\n                required\r\n              >\r\n                <option value=\"\">Select Status</option>\r\n                <option value=\"published\">Publish</option>\r\n                <option value=\"needs_correction\">Needs Correction</option>\r\n                <option value=\"rejected\">Reject</option>\r\n              </select>\r\n            </div>\r\n            {(reviewStatus === \"needs_correction\" ||\r\n              reviewStatus === \"rejected\") && (\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"reviewerComments\">\r\n                  Comments (Required for Needs Correction/Reject) *\r\n                </label>\r\n                <textarea\r\n                  id=\"reviewerComments\"\r\n                  value={reviewerComments}\r\n                  onChange={(e) => setReviewerComments(e.target.value)}\r\n                  rows=\"4\"\r\n                  required={\r\n                    reviewStatus === \"needs_correction\" ||\r\n                    reviewStatus === \"rejected\" ||\r\n                    reviewStatus === \"rejected\"\r\n                  }\r\n                ></textarea>\r\n              </div>\r\n            )}\r\n            <button type=\"submit\" className=\"btn\" disabled={isReviewing}>\r\n              {isReviewing ? \"Submitting...\" : \"Submit Review\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {publication.status === \"needs_correction\" && isOwner && !isAdmin && (\r\n        <div\r\n          className=\"alert alert-warning\"\r\n          style={{\r\n            marginTop: \"20px\",\r\n            padding: \"15px\",\r\n            border: \"1px solid orange\",\r\n            backgroundColor: \"#fff3cd\",\r\n          }}\r\n        >\r\n          <p>\r\n            <strong>Action Required:</strong> This publication needs correction\r\n            based on reviewer feedback.\r\n          </p>\r\n          <p>\r\n            <strong>Reviewer Comments:</strong> {publication.reviewerComments}\r\n          </p>\r\n          <p>\r\n            Please{\" \"}\r\n            <Link to={`/dashboard/edit-publication/${id}`}>\r\n              edit your publication\r\n            </Link>{\" \"}\r\n            and resubmit. Resubmitting will change the status back to\r\n            'pending_review'.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublicationDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}